<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Art-studio Leonardo</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link
      href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Open+Sans:wght@400;700&display=swap"
      rel="stylesheet">
   <link rel="stylesheet" href="Style.css">
</head>

<body>
   <div class="wrapper">
      <div class="marker" id="marker"></div>
      <header class="header" id="header">
         <div class="container">
            <div class="header__body">
               <a href="#" target="blank" title="logo">
                  <div class="header__logo"></div>
               </a>
               <div class="header__burger">
                  <span></span>
               </div>
               <nav class="header__menu menu">
                  <div class="menu__flash"></div>
                  <ul class="menu__list lock-padding">
                     <li>
                        <a href="#" class="menu__link">Про студію</a>
                        <span class="menu__arrow arrow"></span>
                        <ul class="sub-menu__list">
                           <li>
                              <a href="#" class="sub-menu__link">Галерея</a>
                           </li>
                           <li>
                              <a href="#" class="sub-menu__link">Викладачі</a>
                           </li>
                           <li>
                              <a href="#" class="sub-menu__link">Відгуки</a>
                           </li>
                           <li>
                              <a href="#" class="sub-menu__link">Запитання та відповіді</a>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <a href="#" class="menu__link">Навчання</a>
                        <span class="menu__arrow arrow"></span>
                        <ul class="sub-menu__list">
                           <li>
                              <a href="#" class="sub-menu__link">для дітей</a>
                           </li>
                           <li>
                              <a href="#" class="sub-menu__link">для абітурієнтів</a>
                           </li>
                           <li>
                              <a href="#" class="sub-menu__link">для дорослих</a>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <a href="#" class="menu__link">Майстер-класи</a>
                     </li>
                     <li>
                        <a href="#" class="menu__link">Контакти</a>
                     </li>
                  </ul>
                  <button class="header__btn popup-link" href="#popup">Замовити урок</button>
                  <div class="header-icon__social">
                     <a href="#" class="social__link" title="a">
                        <div class="fbicon"></div>
                     </a>
                     <a href="#" class="social__link" title="a">
                        <div class="instaicon"></div>
                     </a>
                  </div>
               </nav>
            </div>
         </div>

      </header>
      <div class="content">

      </div>
      <footer class="footer">
         <div class="footer__block">
            <div class="footer__submit">
               <h3 class="footer__title">Запис на урок</h3>
               <div class="footer__text">Заповніть форму і ми обов’язково звя’жемось з вами для уточнення деталей</div>
               <form action="#" class="footer__form">
                  <div class="form__fierstname">
                     <label for="firstname">Ім’я *</label>
                     <br><input type="text" name="firstname" id="firstname" placeholder="Ім’я">
                  </div>
                  <div class="form__">
                     <label for="lastname">Прізвище</label>
                     <br><input type="text" name="lastname" id="lastname" placeholder="Прізвище">
                  </div>
                  <div class="form__ema">
                     <label for="email">Електронна пошта *</label>
                     <br><input type="email" name="email" id="email" placeholder="email@gmail.com" autocomplete="on">
                  </div>
                  <div class="form__phone">
                     <label for="phone">Телефон *</label>
                     <br><input type="text" name="phone" id="phone" placeholder="+380 (50) 123 45 67" autocomplete="on">
                  </div>
               </form>
               <button type="submit" class="footer__btn">Відправити</button>
               <div class="footer__ofert caption">Надсилаючи заявку, Ви автоматично погоджуєтесь з публічною офертою та
                  надаєте
                  згоду на обробку персональних даних.</div>
            </div>
            <div class="footer__contact">
               <h3 class="footer__title">Контакти</h3>
               <div class="footer__addressblock">
                  <div class="footer__contacts">
                     <a href="#" class="footer__address">
                        <div class="geoicon"></div>
                        <div class="address__text">м. Вінниця вул. Андрія Первозванного, 58а</div>
                     </a>
                     <a href="#" class="footer__phone">
                        <div class="tgicon"></div>
                        <div class="phone__text">+380 (96) 465 67 51</div>
                     </a>
                  </div>
                  <div class="footer__text">Слідкуйте за нами в соцмережах</div>
                  <div class="icon__social">
                     <a href="#" class="social__link" title="a">
                        <div class="fbicon"></div>
                     </a>
                     <a href="#" class="social__link" title="a">
                        <div class="instaicon"></div>
                     </a>
                  </div>
                  <button type="submit" class=" footer__btn">Поділитись</button>
               </div>
            </div>
         </div>
         <div class="footer__footer">
            <div class="develop">
               <img src="img/logo.png" alt="logo" class="develop__logo">
               <div class="caption">Розроблено студентами<br>
                  Вінницької IT Академії</div>
            </div>
            <a href="#header">
               <div class="scroll__up">
                  <img src="img/scroll_up_icon.svg" alt="icon">
               </div>
            </a>
         </div>
      </footer>
   </div>

   <div class="popup" id="popup">
      <div class="popup__body">
         <div class="popup__content">
            <a href="#marker" class="popup__close close-popup" title="popup__close"></a>
            <h3 class="popup__title">Запис на урок</h3>
            <div class="popup__text">Заповніть форму і ми обов’язково зв’яжемось з вами для уточнення деталей</div>
            <form action="#" class="popup__form">
               <div class="form__fierstname">
                  <label for="firstname">Ім’я *</label>
                  <br><input type="text" name="firstname" id="firstname" placeholder="Ім’я">
               </div>
               <div class="form__">
                  <label for="lastname">Прізвище</label>
                  <br><input type="text" name="lastname" id="lastname" placeholder="Прізвище">
               </div>
               <div class="form__ema">
                  <label for="email">Електронна пошта *</label>
                  <br><input type="email" name="email" id="email" placeholder="email@gmail.com" autocomplete="on">
               </div>
               <div class="form__phone">
                  <label for="phone">Телефон *</label>
                  <br><input type="text" name="phone" id="phone" placeholder="+380 (50) 123 45 67" autocomplete="on">
               </div>
            </form>
            <button type="submit" class="footer__btn">Відправити</button>
            <div class="footer__ofert caption">Надсилаючи заявку, Ви автоматично погоджуєтесь з публічною офертою та
               надаєте
               згоду на обробку персональних даних.</div>
            </form>
         </div>
      </div>
   </div>

   <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
   <script>
      /*burger-menu*/
      $(document).ready(function () {
         $('.header__burger').click(function (event) {
            $('.header__burger, .header__menu').toggleClass('active');
            $('body').toggleClass('lock');
         });
      });
      /*sub-menu arrow*/
      let isMobile = {
         Android: function () { return navigator.userAgent.match(/Android/i); },
         BlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i); },
         iOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i); },
         Opera: function () { return navigator.userAgent.match(/Opera Mini/i); },
         Windows: function () { return navigator.userAgent.match(/IEMobile/i); },
         any: function () { return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()); }
      };
      let body = document.querySelector('body');
      if (isMobile.any()) {
         body.classList.add('touch');
         let arrow = document.querySelectorAll('.arrow');
         for (i = 0; i < arrow.length; i++) {
            let thisLink = arrow[i].previousElementSibling;
            let subMenu = arrow[i].nextElementSibling;
            let thisArrow = arrow[i];

            thisLink.classList.add('parent');
            arrow[i].addEventListener('click', function () {
               subMenu.classList.toggle('open');
               thisArrow.classList.toggle('active');
            });
         }
      } else {
         body.classList.add('mouse');
      }

      /* modal window script */
      const popupLinks = document.querySelectorAll('.popup-link');
      const bodi = document.querySelector('body');
      const lockPadding = document.querySelectorAll('.lock-padding');
      let unlock = true;
      const timeout = 800;

      if (popupLinks.length > 0) {
         for (let i = 0; i < popupLinks.length; i++) {
            const popupLink = popupLinks[i];
            popupLink.addEventListener('click', function (e) {
               const popupName = popupLink.getAttribute('href').replace('#', '');
               const curentPopup = document.getElementById(popupName);
               popupOpen(curentPopup);
               e.preventDefault();
            });
         }
      }

      const popupCloseIcon = document.querySelectorAll('.close-popup');
      if (popupCloseIcon.length > 0) {
         for (let i = 0; i < popupCloseIcon.length; i++) {
            const el = popupCloseIcon[i];
            el.addEventListener('click', function (e) {
               popupClose(el.closest('.popup'));
               e.preventDefault();
            });
         }
      }

      function popupOpen(curentPopup) {
         if (curentPopup && unlock) {
            const popupActive = document.querySelector('.popup.open');
            if (popupActive) {
               popupClose(popupActive, false);
            } else {
               bodyLock();
            }
            curentPopup.classList.add('open');
            curentPopup.addEventListener('click', function (e) {
               if (!e.target.closest('.popup__content')) {
                  popupClose(e.target.closest('.popup'));
               }
            });
         }
      }
      function popupClose(popupActive, doUnlock = true) {
         if (unlock) {
            popupActive.classList.remove('open');
            if (doUnlock) {
               bodyUnLock();
            }
         }
      }

      function bodyLock() {
         const lockPaddingValue = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';

         if (lockPadding.length > 0) {
            for (let i = 0; i < lockPadding.length; i++) {
               const el = lockPadding[i];
               el.style.paddingRight = lockPaddingValue;
            }
         }
         bodi.style.paddingRight = lockPaddingValue;
         bodi.classList.add('lock');

         unlock = false;
         setTimeout(function () {
            unlock = true;
         }, timeout);
      }

      function bodyUnLock() {
         setTimeout(function () {
            for (let i = 0; i < lockPadding.length; i++) {
               const el = lockPadding[i];
               el.style.paddingRight = '0px';
            }
            bodi.style.paddingRight = '0px';
            bodi.classList.remove('lock');
         }, timeout);

         unlock = false;
         setTimeout(() => unlock = true, timeout);
      }

      document.addEventListener('keydown', function (e) {
         if (e.which === 27) {
            const popupActive = document.querySelector('.popup.open');
            popupClose(popupActive);
         }
      });

      (function () {
         if (!Element.prototype.closest) {
            Element.prototype.closest = function (css) {
               var node = this;
               while (node) {
                  if (node.matches(css)) return node;
                  else node = node.parentElement;
               }
               return null;
            };
         }
      })();

      (function () {
         if (!Element.prototype.matches) {
            Element.prototype.matches = Element.prototype.matchesSelector ||
               Element.prototype.webkitMatchesSelector ||
               Element.prototype.mozMatchesSelector ||
               Element.prototype.msMatchesSelector;
         }
      })();


   </script>
</body>

</html>